<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>servicios</title>
    <link rel="stylesheet" href="/css/servicios.css">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body>
  

<nav class="navbar navbar-expand-lg custom-navbar">
  <nav class="navbar">
  <a class="navbar-brand" href="/index.html">
      <img src="/img/logo.png" alt="" width="30" height="24" class="d-inline-block align-text-top">
      Vida Animal 
    </a>
</nav>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/contacto.html">contacto</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/servicios.html">servicios</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          m√°s
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <li><a class="dropdown-item" href="/productos.html">productos</a></li>
          <li><a class="dropdown-item" href="/nosotros.html">nosotros</a></li>
        </ul>
      </li>
    </ul>
  </div>
  </div>
</nav>

  <!-- SERVICIOS -->
  <section class="servicios">
    <div class="servicio">
      <h3>Radiograf√≠a Digital</h3>
      <p>Ex√°menes radiogr√°ficos r√°pidos y precisos para diagn√≥stico eficaz.</p>
    </div>
    <div class="servicio">
      <h3>Ecograf√≠a & Consultorio</h3>
      <p>Consultas cl√≠nicas, medicina general y ex√°menes por imagen.</p>
    </div>
    <div class="servicio">
      <h3>Hospitalizaci√≥n</h3>
      <p>Cuidado continuo para pacientes en observaci√≥n o tratamiento prolongado.</p>
    </div>
    <div class="servicio">
      <h3>Laboratorio Cl√≠nico</h3>
      <p>Pruebas r√°pidas para ayudar en el diagn√≥stico inmediato.</p>
    </div>
    <div class="servicio">
      <h3>Traumatolog√≠a</h3>
      <p>Tratamiento para lesiones √≥seas y musculares en mascotas.</p>
    </div>
    <div class="servicio">
      <h3>Cirug√≠a</h3>
      <p>Cirug√≠as programadas y de emergencia con monitoreo avanzado.</p>
    </div>
  </section>

  <!-- ATENCI√ìN ESPECIALIZADA -->
  <section class="atencion">
    <img src="https://via.placeholder.com/400x300" alt="Atenci√≥n veterinaria">
    <div class="atencion-texto">
      <h2>Brindamos atenci√≥n especializada</h2>
      <p>Contamos con profesionales capacitados y tecnolog√≠a de punta para atender a tu mascota con el mayor cuidado.</p>
    </div>
    <button id="openBooking" class="btn" type="button" aria-haspopup="dialog" aria-controls="bookingDialog">
      üìÖ Agendar una cita
    </button>

    <div id="successMsg" class="success" role="status">‚úÖ ¬°Solicitud enviada! Te contactaremos para confirmar.</div>
  </div>

  <!-- Modal / Dialog -->
  <dialog id="bookingDialog" aria-labelledby="dialogTitle">
    <div class="card">
      <header class="row" style="justify-content:space-between">
        <div>
          <h1 id="dialogTitle">Agendar una cita</h1>
          <p class="subtitle">Completa tus datos y selecciona fecha y hora.</p>
        </div>
        <button class="close-x" type="button" aria-label="Cerrar" id="closeDialog">‚úï</button>
      </header>

      <form id="bookingForm" method="dialog" novalidate>
        <!-- Datos del cliente -->
        <div>
          <label for="nombre">Nombre completo</label>
          <input id="nombre" name="nombre" type="text" autocomplete="name" placeholder="Ej: Camila P√©rez" required />
        </div>
        <div>
          <label for="email">Correo</label>
          <input id="email" name="email" type="email" autocomplete="email" placeholder="tucorreo@ejemplo.com" required />
        </div>

        <div>
          <label for="telefono">Tel√©fono</label>
          <input id="telefono" name="telefono" type="tel" autocomplete="tel" placeholder="+56 9 1234 5678" pattern="[+0-9()\-\s]{6,}" required />
        </div>
        <div>
          <label for="servicio">Servicio</label>
          <select id="servicio" name="servicio" required>
            <option value="" disabled selected>Selecciona‚Ä¶</option>
            <option>Consulta</option>
            <option>Mantenci√≥n</option>
            <option>Asesor√≠a</option>
          </select>
        </div>

        <!-- Fecha y hora -->
        <div>
          <label for="fecha">Fecha</label>
          <input id="fecha" name="fecha" type="date" required />
        </div>
        <div>
          <label for="hora">Hora</label>
          <input id="hora" name="hora" type="time" min="09:00" max="18:00" step="1800" required />
          <p class="muted" style="margin:.35rem 0 0">Horario de atenci√≥n: 09:00‚Äì18:00 (cada 30 min)</p>
        </div>

        <div class="full">
          <label for="notas">Notas (opcional)</label>
          <textarea id="notas" name="notas" rows="3" placeholder="Cu√©ntanos brevemente el motivo de tu visita‚Ä¶"></textarea>
        </div>

        <div class="full row" style="justify-content:space-between">
          <label class="row" style="gap:.5rem">
            <input id="acepto" name="acepto" type="checkbox" required />
            <span>Acepto t√©rminos y privacidad</span>
          </label>
          <span class="muted">* Campos obligatorios</span>
        </div>
      </form>

      <div class="actions">
        <button class="btn secondary" type="button" id="cancelar">Cancelar</button>
        <button class="btn" type="submit" form="bookingForm" id="enviar">Enviar solicitud</button>
      </div>
    </div>
  </dialog>

  <script>
    const openBtn = document.getElementById('openBooking');
    const dialog = document.getElementById('bookingDialog');
    const closeBtn = document.getElementById('closeDialog');
    const cancelBtn = document.getElementById('cancelar');
    const form = document.getElementById('bookingForm');
    const success = document.getElementById('successMsg');
    const fecha = document.getElementById('fecha');

    // Establecer m√≠nimo de fecha = hoy (en zona local)
    const today = new Date();
    today.setHours(0,0,0,0);
    const tzOffset = new Date(today.getTime() - today.getTimezoneOffset()*60000)
      .toISOString().split('T')[0];
    fecha.min = tzOffset;

    // Abrir modal (con fallback para navegadores sin <dialog>)
    function openDialog(){
      if (typeof dialog.showModal === 'function') {
        dialog.showModal();
      } else {
        dialog.setAttribute('open','');
        document.body.style.overflow='hidden';
      }
    }
    function closeDialog(){
      if (typeof dialog.close === 'function') {
        dialog.close();
      } else {
        dialog.removeAttribute('open');
        document.body.style.overflow='';
      }
    }

    openBtn.addEventListener('click', openDialog);
    closeBtn.addEventListener('click', closeDialog);
    cancelBtn.addEventListener('click', closeDialog);

    // Cerrar con clic fuera del cuadro (solo si usa <dialog>)
    dialog.addEventListener('click', (e) => {
      const rect = dialog.getBoundingClientRect();
      const inDialog = (
        e.clientX >= rect.left && e.clientX <= rect.right &&
        e.clientY >= rect.top && e.clientY <= rect.bottom
      );
      if (!inDialog) closeDialog();
    });

    // Manejo de env√≠o (frontend). Reemplaza con tu backend/fetch
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Validaci√≥n simple HTML5
      if (!form.reportValidity()) return;

      const data = Object.fromEntries(new FormData(form).entries());

      // EJEMPLO: env√≠o con fetch a tu backend
      // try {
      //   const res = await fetch('/api/citas', {
      //     method: 'POST',
      //     headers: { 'Content-Type': 'application/json' },
      //     body: JSON.stringify(data)
      //   });
      //   if (!res.ok) throw new Error('Error al enviar');
      // } catch (err) {
      //   alert('No se pudo enviar. Intenta nuevamente.');
      //   return;
      // }

      // Demo: mostrar √©xito y cerrar
      closeDialog();
      form.reset();
      success.classList.add('show');
      window.scrollTo({ top: 0, behavior: 'smooth' });

      // Dispara un evento personalizado por si quieres enganchar l√≥gica externa
      document.dispatchEvent(new CustomEvent('cita:creada', { detail: data }));
    });
  </script>
  </section>


  <!-- FOOTER -->
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
<footer>
    <div>
      <h4>Contacto</h4>
      <p>Tel√©fono/whatsapp: +56 9 7212 3031</p>
      <p>Email: info@veterinaria.com</p>
    </div>
    <div>
      <h4>Horario</h4>
      <p>Lunes a Viernes: 9:00am - 6:00pm</p>
      <p>S√°bados: 10:00am - 4:00pm</p>
      <p>Domingos: Cerrado</p>
    </div>
    <div>
      <h4>Redes Sociales</h4>
      <a href="#">Facebook</a>
      <a href="#">Instagram</a>
      <a href="#">TikTok</a>
    </div>
  </footer>
  </body>
</html>